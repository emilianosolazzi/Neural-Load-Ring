(kicad_sch (version 20230121) (generator eeschema)

  (uuid "a1b2c3d4-e5f6-7890-abcd-ef1234567890")

  (paper "A4")

  (title_block
    (title "Neural Load Ring - Main Board")
    (date "2026-01-05")
    (rev "1.0")
    (company "NLR Systems")
    (comment 1 "HRV Biometric Wellness Ring")
    (comment 2 "Cortex-M4 + BLE 5.2 + PPG + Haptics")
  )

  (lib_symbols)

  ;; =========================================================================
  ;; POWER SYMBOLS
  ;; =========================================================================
  
  (symbol (lib_id "power:GND") (at 50.8 152.4 0) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid "pwr-gnd-1")
    (property "Reference" "#PWR01" (at 50.8 158.75 0) (effects (font (size 1.27 1.27)) hide))
    (property "Value" "GND" (at 50.8 156.21 0))
  )

  (symbol (lib_id "power:+3V3") (at 50.8 25.4 0) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid "pwr-3v3-1")
    (property "Reference" "#PWR02" (at 50.8 29.21 0) (effects (font (size 1.27 1.27)) hide))
    (property "Value" "+3V3" (at 50.8 21.59 0))
  )

  (symbol (lib_id "power:VBAT") (at 25.4 25.4 0) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid "pwr-vbat-1")
    (property "Reference" "#PWR03" (at 25.4 29.21 0) (effects (font (size 1.27 1.27)) hide))
    (property "Value" "VBAT" (at 25.4 21.59 0))
  )

  ;; =========================================================================
  ;; MCU - Nordic nRF52833
  ;; =========================================================================
  
  (symbol (lib_id "RF_Module:nRF52833") (at 127 88.9 0) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid "mcu-nrf52833")
    (property "Reference" "U1" (at 127 50.8 0))
    (property "Value" "nRF52833-QIAA" (at 127 53.34 0))
    (property "Footprint" "Package_DFN_QFN:QFN-40-1EP_5x5mm_P0.4mm_EP3.2x3.2mm" (at 127 88.9 0)
      (effects (font (size 1.27 1.27)) hide))
    (property "MPN" "NRF52833-QIAA-R" (at 127 88.9 0) (effects (font (size 1.27 1.27)) hide))
    ;; Pin assignments (directly tied to firmware)
    ;; P0.02 - PPG_INT (MAX86141 interrupt)
    ;; P0.03 - I2C_SDA (PPG sensor)
    ;; P0.04 - I2C_SCL (PPG sensor)
    ;; P0.13 - LED_STATUS
    ;; P0.17 - HEATER_EN (thermal actuator PWM)
    ;; P0.20 - MOTOR_EN (vibration motor PWM)
    ;; P0.26 - VBAT_SENSE (ADC battery monitor)
  )

  ;; =========================================================================
  ;; PPG SENSOR - MAX86141
  ;; =========================================================================
  
  (symbol (lib_id "Analog_ADC:MAX86141") (at 228.6 76.2 0) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid "ppg-max86141")
    (property "Reference" "U2" (at 228.6 60.96 0))
    (property "Value" "MAX86141EWV+" (at 228.6 63.5 0))
    (property "Footprint" "Package_CSP:OLGA-14_2.3x2.8mm_P0.5mm" (at 228.6 76.2 0)
      (effects (font (size 1.27 1.27)) hide))
    (property "MPN" "MAX86141EWV+T" (at 228.6 76.2 0) (effects (font (size 1.27 1.27)) hide))
    ;; Dual-channel optical PPG with 100Hz+ sampling
    ;; Connected via I2C to nRF52833
    ;; INT pin triggers RR interval capture
  )

  ;; =========================================================================
  ;; POWER MANAGEMENT - BQ25125 + TPS62840
  ;; =========================================================================
  
  (symbol (lib_id "Battery_Management:BQ25125") (at 63.5 76.2 0) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid "pmic-bq25125")
    (property "Reference" "U3" (at 63.5 60.96 0))
    (property "Value" "BQ25125YFFR" (at 63.5 63.5 0))
    (property "Footprint" "Package_CSP:DSBGA-15_1.8x2.0mm_P0.4mm" (at 63.5 76.2 0)
      (effects (font (size 1.27 1.27)) hide))
    (property "MPN" "BQ25125YFFR" (at 63.5 76.2 0) (effects (font (size 1.27 1.27)) hide))
    ;; 800mA Li-Ion charger with integrated LDO
    ;; USB-C input, single-cell LiPo output
    ;; Ship mode for storage (<1uA)
  )

  (symbol (lib_id "Regulator_Switching:TPS62840") (at 63.5 114.3 0) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid "buck-tps62840")
    (property "Reference" "U4" (at 63.5 101.6 0))
    (property "Value" "TPS62840DLCR" (at 63.5 104.14 0))
    (property "Footprint" "Package_CSP:DSBGA-6_1.0x1.5mm_P0.5mm" (at 63.5 114.3 0)
      (effects (font (size 1.27 1.27)) hide))
    (property "MPN" "TPS62840DLCR" (at 63.5 114.3 0) (effects (font (size 1.27 1.27)) hide))
    ;; 60nA quiescent current buck converter
    ;; VBAT -> 3.3V @ up to 750mA
    ;; Critical for 14+ day battery life
  )

  ;; =========================================================================
  ;; THERMAL ACTUATOR - DRV8837 H-Bridge
  ;; =========================================================================
  
  (symbol (lib_id "Motor:DRV8837") (at 228.6 114.3 0) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid "thermal-drv8837")
    (property "Reference" "U5" (at 228.6 101.6 0))
    (property "Value" "DRV8837DSGR" (at 228.6 104.14 0))
    (property "Footprint" "Package_SON:WSON-8-1EP_2x2mm_P0.5mm_EP0.9x1.6mm" (at 228.6 114.3 0)
      (effects (font (size 1.27 1.27)) hide))
    (property "MPN" "DRV8837DSGR" (at 228.6 114.3 0) (effects (font (size 1.27 1.27)) hide))
    ;; Drives 10R heater resistor for thermal cues
    ;; PWM controlled, max 60% duty (safety cap)
    ;; Max 5 second activation (firmware enforced)
  )

  ;; =========================================================================
  ;; VIBRATION MOTOR DRIVER
  ;; =========================================================================
  
  (symbol (lib_id "Transistor_FET:Si2301CDS") (at 228.6 139.7 0) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid "motor-driver-q1")
    (property "Reference" "Q1" (at 234.95 138.43 0))
    (property "Value" "SI2301CDS" (at 234.95 140.97 0))
    (property "Footprint" "Package_TO_SOT_SMD:SOT-23" (at 228.6 139.7 0)
      (effects (font (size 1.27 1.27)) hide))
    (property "MPN" "SI2301CDS-T1-GE3" (at 228.6 139.7 0) (effects (font (size 1.27 1.27)) hide))
    ;; P-channel MOSFET for ERM motor drive
    ;; PWM controlled, max 50% duty (safety cap)
    ;; Burst patterns for haptic feedback
  )

  ;; =========================================================================
  ;; CRYSTALS
  ;; =========================================================================
  
  (symbol (lib_id "Device:Crystal") (at 101.6 101.6 0) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid "xtal-32mhz")
    (property "Reference" "Y1" (at 101.6 95.25 0))
    (property "Value" "32MHz" (at 101.6 97.79 0))
    (property "Footprint" "Crystal:Crystal_SMD_2012-2Pin_2.0x1.2mm" (at 101.6 101.6 0)
      (effects (font (size 1.27 1.27)) hide))
    (property "MPN" "ABM8AIG-32.000MHZ-12-1-T" (at 101.6 101.6 0)
      (effects (font (size 1.27 1.27)) hide))
  )

  (symbol (lib_id "Device:Crystal") (at 101.6 114.3 0) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid "xtal-32khz")
    (property "Reference" "Y2" (at 101.6 107.95 0))
    (property "Value" "32.768kHz" (at 101.6 110.49 0))
    (property "Footprint" "Crystal:Crystal_SMD_1610-2Pin_1.6x1.0mm" (at 101.6 114.3 0)
      (effects (font (size 1.27 1.27)) hide))
    (property "MPN" "ABS07-32.768KHZ-9-T" (at 101.6 114.3 0)
      (effects (font (size 1.27 1.27)) hide))
    ;; RTC crystal for circadian drift tracking
  )

  ;; =========================================================================
  ;; USB-C CONNECTOR
  ;; =========================================================================
  
  (symbol (lib_id "Connector:USB_C_Receptacle_USB2.0") (at 25.4 76.2 0) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid "usb-c-j1")
    (property "Reference" "J1" (at 25.4 53.34 0))
    (property "Value" "USB4105-GF-A" (at 25.4 55.88 0))
    (property "Footprint" "Connector_USB:USB_C_Receptacle_GCT_USB4105" (at 25.4 76.2 0)
      (effects (font (size 1.27 1.27)) hide))
    (property "MPN" "USB4105-GF-A" (at 25.4 76.2 0) (effects (font (size 1.27 1.27)) hide))
    ;; USB 2.0 only - charging + firmware update
    ;; ESD protected via PRTR5V0U2X
  )

  ;; =========================================================================
  ;; ANTENNA
  ;; =========================================================================
  
  (symbol (lib_id "RF:Antenna_Chip") (at 165.1 50.8 0) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid "ant-ble")
    (property "Reference" "ANT1" (at 165.1 44.45 0))
    (property "Value" "2450AT18A100E" (at 165.1 46.99 0))
    (property "Footprint" "RF_Antenna:Johanson_2450AT18A100E" (at 165.1 50.8 0)
      (effects (font (size 1.27 1.27)) hide))
    (property "MPN" "2450AT18A100E" (at 165.1 50.8 0) (effects (font (size 1.27 1.27)) hide))
    ;; 2.4GHz chip antenna for BLE 5.2
    ;; Matched to 50 ohm, no external matching needed
  )

  ;; =========================================================================
  ;; NOTES
  ;; =========================================================================
  
  (text "NEURAL LOAD RING v1.0\n\nKey Design Notes:\n1. All 0201 passives where possible for ring form factor\n2. PPG sensor on flex PCB extension for skin contact\n3. Heater resistor isolated with thermal vias\n4. Motor isolated to prevent PPG noise coupling\n5. Keep-out zone around BLE antenna (3mm min)\n6. USB-C on ring clasp for charging dock contact"
    (at 25.4 165.1 0)
    (effects (font (size 2.54 2.54)) (justify left top))
  )

  ;; =========================================================================
  ;; HIERARCHICAL SHEET REFERENCES (for future expansion)
  ;; =========================================================================
  
  ;; Sheet: power_supply.kicad_sch
  ;; Sheet: sensor_frontend.kicad_sch
  ;; Sheet: actuators.kicad_sch

)
